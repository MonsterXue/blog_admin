(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b87277d4"],{"0920":function(e,t,n){},"10ac":function(e,t,n){"use strict";var a=n("f1b1"),i=n.n(a);i.a},1276:function(e,t,n){"use strict";var a=n("d784"),i=n("44e7"),r=n("825a"),l=n("1d80"),o=n("4840"),s=n("8aa5"),c=n("50c4"),u=n("14c3"),d=n("9263"),f=n("d039"),h=[].push,g=Math.min,p=4294967295,m=!f((function(){return!RegExp(p,"y")}));a("split",2,(function(e,t,n){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var a=String(l(this)),r=void 0===n?p:n>>>0;if(0===r)return[];if(void 0===e)return[a];if(!i(e))return t.call(a,e,r);var o,s,c,u=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),g=0,m=new RegExp(e.source,f+"g");while(o=d.call(m,a)){if(s=m.lastIndex,s>g&&(u.push(a.slice(g,o.index)),o.length>1&&o.index<a.length&&h.apply(u,o.slice(1)),c=o[0].length,g=s,u.length>=r))break;m.lastIndex===o.index&&m.lastIndex++}return g===a.length?!c&&m.test("")||u.push(""):u.push(a.slice(g)),u.length>r?u.slice(0,r):u}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=l(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,i,n):a.call(String(i),t,n)},function(e,i){var l=n(a,e,this,i,a!==t);if(l.done)return l.value;var d=r(e),f=String(this),h=o(d,RegExp),b=d.unicode,v=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(m?"y":"g"),y=new h(m?d:"^(?:"+d.source+")",v),x=void 0===i?p:i>>>0;if(0===x)return[];if(0===f.length)return null===u(y,f)?[f]:[];var I=0,C=0,S=[];while(C<f.length){y.lastIndex=m?C:0;var R,D=u(y,m?f:f.slice(C));if(null===D||(R=g(c(y.lastIndex+(m?0:C)),f.length))===I)C=s(f,C,b);else{if(S.push(f.slice(I,C)),S.length===x)return S;for(var $=1;$<=D.length-1;$++)if(S.push(D[$]),S.length===x)return S;C=I=R}}return S.push(f.slice(I)),S}]}),!m)},"14c3":function(e,t,n){var a=n("c6b6"),i=n("9263");e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var r=n.call(e,t);if("object"!==typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==a(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},"3cfa":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"roleSys"},[n("baseTable",{attrs:{tableHeaders:e.tableHeaders,tableData:e.tableData,topBtnList:e.topBtnList,hasIndex:e.hasIndex,border:e.border,total:e.total,currentPage:e.currentPage,pageSize:e.pageSize}}),n("baseAuthDialog",{attrs:{title:e.authDialog.title,visible:e.authDialog.visible,dialogRef:e.authDialog.dialogRef,currentRole:e.authDialog.currentRole,close:e.authDialog.close},on:{confirm:e.authDialog.confirm}}),n("baseManageDialog",{attrs:{title:e.manageDialog.title,visible:e.manageDialog.visible,currentRole:e.manageDialog.currentRole,params:e.manageDialog.params,hasRowSelect:e.manageDialog.hasRowSelect,close:e.manageDialog.close},on:{confirm:e.manageDialog.confirm}}),n("baseRoleDialog",{attrs:{title:e.roleDialog.title,visible:e.roleDialog.visible,modelForm:e.roleDialog.modelForm,close:e.roleDialog.close},on:{confirm:e.roleDialog.confirm}})],1)},i=[];n("4160"),n("a15b"),n("ac1f"),n("1276"),n("159b");function r(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("e260"),n("d3b7"),n("25f0"),n("3ca3"),n("ddb0");function l(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function s(e){return r(e)||l(e)||o()}var c=n("5530"),u=n("54ee"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"baseAuthDialog"},[n("el-dialog",{ref:"treeDialog",attrs:{visible:e.visible,title:e.title},on:{close:e.close}},[n("span",{staticClass:"current_role"},[e._v("当前角色："+e._s(e.currentRole))]),n("div",{staticClass:"tree_wrapper"},[n("el-tree",{ref:e.dialogRef,attrs:{data:e.treeData,"show-checkbox":"","node-key":"id","default-expand-all":!0}})],1),n("div",{staticClass:"btn_box"},[n("el-button",{on:{click:e.close}},[e._v("取消")]),n("el-button",{staticClass:"deep",on:{click:e.confirm}},[e._v("确定")])],1)])],1)},f=[],h=n("2f62"),g={name:"baseAuthDialog",props:{visible:{type:Boolean,default:!1},close:{type:Function,default:function(){}},title:String,currentRole:String,dialogRef:String},data:function(){return{treeData:[]}},methods:{handleMenuTree:function(e){var t=this,n=[];return e.forEach((function(e,a){n.push({label:e.menuName,id:e.menuId,children:[]}),e.children&&e.children.length&&(n[a].children=t.handleMenuTree(e.children))})),n},confirm:function(){this.$emit("confirm")}},computed:Object(c["a"])({},Object(h["b"])(["menu"])),mounted:function(){this.menu&&(this.treeData=this.handleMenuTree(this.menu))}},p=g,m=(n("7502"),n("2877")),b=Object(m["a"])(p,d,f,!1,null,null,null),v=b.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"baseManageDialog"},[n("el-dialog",{attrs:{visible:e.visible,title:e.title},on:{close:e.close}},[n("span",{staticClass:"current_role"},[e._v("当前角色："+e._s(e.currentRole))]),n("baseTable",{attrs:{rowKey:"userId",tableRef:e.tableRef,tableHeaders:e.tableHeaders,hasCheckBox:!0,tableData:e.tableData,border:!0,hasRowSelect:e.hasRowSelect,total:e.total,currentPage:e.currentPage,pageSize:e.pageSize,layout:e.layout},on:{pageChange:e.handlePageChange,tableChoose:e.tableChoose}}),n("containerList",{attrs:{title:"已分配人员（"+e.userTotal+"）",tagList:e.tagList},on:{close:e.tagDel}}),n("div",{staticClass:"btn_box"},[n("el-button",{on:{click:e.close}},[e._v("取消")]),n("el-button",{staticClass:"deep",on:{click:e.confirm}},[e._v("确定")])],1)],1)],1)},x=[],I=(n("7db0"),n("c740"),n("a434"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"containerList"},[n("div",{staticClass:"title"},[e._v(e._s(e.title))]),n("div",{staticClass:"container"},e._l(e.tagList,(function(t,a){return n("el-tag",{key:a,attrs:{closable:""},on:{close:function(t){return e.close(a)}}},[e._v(e._s(t.name))])})),1)])}),C=[],S={name:"containerList",props:{tagList:{type:Array,default:function(){return[]}},title:String},methods:{close:function(e){this.$emit("close",e)}}},R=S,D=(n("45af"),Object(m["a"])(R,I,C,!1,null,null,null)),$=D.exports,_=$,k={name:"baseManageDialog",props:{visible:{type:Boolean,default:!1},close:{type:Function,default:function(){}},params:{type:Object,default:function(){}},hasRowSelect:{type:Array,default:function(){return[]}},tableRef:{type:String,default:"userManage"},title:String,currentRole:String},components:{baseTable:u["a"],containerList:_},data:function(){return{tableHeaders:[{label:"用户名",prop:"userName",align:"center"},{label:"姓名",prop:"name",align:"center"}],tableData:[],currentChecked:[],allCheckedSelect:[],tagList:[],total:0,currentPage:1,pageSize:5,userTotal:0,layout:"prev, pager, next, jumper"}},methods:{confirm:function(){this.$emit("confirm",this.tagList)},getTableData:function(){var e=this,t={limit:5,page:this.currentPage};this.$api.userAPI.getSysUserInfo(Object(c["a"])({},t)).then((function(t){200===t.data.code&&(e.tableData=t.data.data.data,e.total=t.data.data.total,e.togglePageSelection())})).catch((function(t){console.log(t),e.$message.error("请求错误！")}))},tableChoose:function(e,t){if(e.length>this.currentChecked.length)this.allCheckedSelect.push(t),this.tagList.push({userId:t.userId,name:t.userName});else{var n=this.allCheckedSelect.findIndex((function(e){return e["userId"]==t["userId"]}));this.allCheckedSelect.splice(n,1);var a=this.hasRowSelect.findIndex((function(e){return e["userId"]==t["userId"]}));this.hasRowSelect.splice(a,1);var i=this.tagList.findIndex((function(e){return e["userId"]==t["userId"]}));this.tagList.splice(i,1)}this.currentChecked=e},togglePageSelection:function(){var e=this;this.hasRowSelect.length>0&&this.hasRowSelect.forEach((function(t){var n=e.allCheckedSelect.find((function(e){return e["userId"]==t["userId"]})),a=e.tableData.find((function(e){return e["userId"]==t["userId"]}));a&&!n&&e.allCheckedSelect.push(a)})),this.currentChecked=[],this.$nextTick((function(){e.$children[0].$children[0].$refs[e.tableRef].clearSelection()})),this.allCheckedSelect.forEach((function(t){var n=e.tableData.find((function(e){return e["userId"]==t["userId"]}));n&&(e.currentChecked.push(n),e.$nextTick((function(){e.$children[0].$children[0].$refs[e.tableRef].toggleRowSelection(n)})))}))},tagDel:function(e){var t=this.tagList[e];this.tagList.splice(e,1);var n=this.currentChecked.findIndex((function(e){return e["userId"]==t.userId})),a=this.allCheckedSelect.find((function(e){return e["userId"]==t.userId})),i=this.allCheckedSelect.findIndex((function(e){return e["userId"]==t.userId}));this.currentChecked.splice(n,1),this.allCheckedSelect.splice(i,1),this.$children[0].$children[0].$refs[this.tableRef].toggleRowSelection(a)},handlePageChange:function(e){this.currentPage=e,this.getTableData()}},mounted:function(){},watch:{visible:function(e,t){e&&(this.allCheckedSelect=[],this.tagList=JSON.parse(JSON.stringify(this.hasRowSelect)),this.getTableData())},tagList:function(e,t){this.userTotal=this.tagList.length}}},E=k,w=(n("7f5e"),Object(m["a"])(E,y,x,!1,null,null,null)),A=w.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"baseRoleDialog"},[n("el-dialog",{attrs:{visible:e.visible,title:e.title},on:{close:e.close}},[n("div",{staticClass:"form_wrapper"},[n("baseForm",{attrs:{labelWidth:e.labelWidth,formItems:e.formItems,modelForm:e.modelForm,formRef:"formAdd",isRules:e.isRules}})],1),n("div",{staticClass:"btn_box"},[n("el-button",{on:{click:e.close}},[e._v("取消")]),n("el-button",{staticClass:"deep",on:{click:e.confirm}},[e._v("确定")])],1)])],1)},L=[],N=n("8271"),T={name:"baseRoleDialog",components:{baseForm:N["a"]},props:{visible:{type:Boolean,default:!1},close:{type:Function,default:function(){}},modelForm:{type:Object,default:function(){}},title:String},data:function(){return{formItems:[[{label:"角色代码",prop:"roleName",inRule:!0,message:"必填项不能为空",type:"input"}],[{label:"角色名称",prop:"roleCode",inRule:!0,message:"必填项不能为空",type:"input"}],[{label:"状态",prop:"status",type:"switch"}],[{label:"描述",prop:"description",type:"textarea"}]],isRules:!0,labelWidth:"100px"}},methods:{confirm:function(){this.$emit("confirm")}},watch:{visible:function(e,t){e&&this.$nextTick((function(){}))}}},j=T,O=(n("c367"),Object(m["a"])(j,F,L,!1,null,null,null)),P=O.exports,z={name:"roleSys",components:{baseTable:u["a"],baseAuthDialog:v,baseManageDialog:A,baseRoleDialog:P},data:function(){var e=this;return{tableHeaders:[{label:"角色代码",prop:"roleCode",width:"150"},{label:"角色名称",prop:"roleName",width:"150"},{label:"状态",prop:"status",width:"100",align:"center",formatter:function(e,t){return"1"==e.status?"已启用":"未启用"}},{label:"已分配人员",prop:"userList"},{label:"操作",width:"150",align:"center"}],tableData:[],authDialog:{title:"",visible:!1,currentRole:"",dialogRef:"menuTree",checkedNodes:[],roleId:"",close:function(){e.authDialog.visible=!1,e.$children[1].$refs.menuTree.setCheckedNodes([])},confirm:this.authConfirm},manageDialog:{visible:!1,title:"",currentRole:"",params:{},hasRowSelect:[],roleId:"",close:function(){e.manageDialog.visible=!1},confirm:this.manageConfirm},roleDialog:{visible:!1,title:"",type:"",modelForm:{},close:function(){e.roleDialog.visible=!1},confirm:this.roleConfirm},topBtnList:[{label:"新增",icon:"el-icon-plus",class:"addBtn",handleClick:this.handleAddClick}],hasIndex:!0,border:!0,total:0,currentPage:1,pageSize:10}},methods:{handleAddClick:function(){this.roleDialog.visible=!0,this.roleDialog.title="新增角色",this.roleDialog.modelForm={status:"0"},this.roleDialog.type="add"},handleEdit:function(e,t){var n=this;this.roleDialog.visible=!0,this.roleDialog.title="编辑角色",this.$nextTick((function(){n.roleDialog.modelForm=Object(c["a"])({},t)})),this.roleDialog.type=""},handleRemove:function(e,t){var n=this;this.$confirm("该操作无法回退，确认删除该角色？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){n.$api.roleSys.delRole({roleId:t.roleId}).then((function(e){200==e.data.code?(n.$message.success("删除成功！"),n.Init()):n.$message.error("删除失败！"),1==n.tableData.length&&n.currentPage--,n.Init()})).catch((function(e){n.$message.error("请求错误！")}))})).catch((function(e){}))},handleAuth:function(e,t){var n=this;this.authDialog.title="角色授权",this.authDialog.visible=!0,this.authDialog.currentRole=t.roleName,this.authDialog.roleId=t.roleId;this.$nextTick((function(){if(t.roleMenu){var e=t.roleMenu.split(",");e.forEach((function(e){n.$children[1].$refs.menuTree.setChecked(e,!0,!1)}))}}))},handleUserManage:function(e,t){var n=this;this.manageDialog.title="人员分配",this.manageDialog.visible=!0,this.manageDialog.currentRole=t.roleName,this.manageDialog.params={roleId:t.roleId},this.manageDialog.hasRowSelect=[];var a=t.userList.split("、");t.userIdList.split(",").forEach((function(e,t){n.manageDialog.hasRowSelect.push({userId:e,name:a[t]})})),this.manageDialog.roleId=t.roleId},authConfirm:function(){var e=this,t=this.$children[1].$refs.menuTree.getCheckedNodes(!1,!0),n=this.getMenuId(t).sort((function(e,t){return e-t})).join(",");this.$api.roleSys.updateRoleMenu({roleId:this.authDialog.roleId,roleMenu:n}).then((function(t){200==t.data.code?(e.$message.success("更新成功！"),e.Init()):e.$message.error("更新失败！"),e.authDialog.visible=!1})).catch((function(t){e.$message.error("请求错误！")}))},manageConfirm:function(e){var t=this,n=[];e.forEach((function(e){n.push(e.userId)})),this.$api.roleSys.updateUserRole({userIdList:n.join(","),roleId:this.manageDialog.roleId}).then((function(e){200==e.data.code?t.$message.success("分配成功！"):t.$message.error("分配失败"),t.manageDialog.visible=!1,t.Init()})).catch((function(e){t.$message.error("请求错误！")}))},roleConfirm:function(){var e=this;this.$children[3].$children[0].$children[0].$refs["formAdd"].validate((function(t){t?"add"==e.roleDialog.type?e.$api.roleSys.addRole(e.roleDialog.modelForm).then((function(t){200==t.data.code?(e.$message.success("添加成功!"),e.Init()):e.$message.error("添加失败！"),e.roleDialog.visible=!1})).catch((function(t){e.$message.error("请求错误！")})):e.$api.roleSys.updateRole(e.roleDialog.modelForm).then((function(t){200==t.data.code?(e.$message.success("修改成功！"),e.Init()):e.$message.error("更新失败！"),e.roleDialog.visible=!1})).catch((function(t){e.$message.error("请求错误！")})):e.$message.error("表单信息不完整")}))},getMenuId:function(e){var t=this,n=[];return e.forEach((function(e){if(n.push(e.id),e.children.length)return s(t.getMenuId(e.children))})),n},getList:function(){var e=this,t={page:this.currentPage,limit:this.pageSize};this.$store.dispatch("getRoleList"),this.$api.userAPI.getUserByRole(t).then((function(t){200==t.data.code&&(e.tableData=t.data.data.userList,e.total=t.data.data.total,e.tableData.forEach((function(t){1==t.roleId?t["iconList"]=[{class:"icon-auth",handleClick:e.handleAuth},{class:"icon-manage",handleClick:e.handleUserManage}]:t["iconList"]=[{class:"icon-edit",handleClick:e.handleEdit},{class:"icon-delete",handleClick:e.handleRemove},{class:"icon-auth",handleClick:e.handleAuth},{class:"icon-manage",handleClick:e.handleUserManage}]})))}))},Init:function(){this.getList()}},mounted:function(){this.Init()},computed:Object(c["a"])({},Object(h["c"])({dataDict:function(e){return e.dataDict}}))},M=z,B=Object(m["a"])(M,a,i,!1,null,null,null),U=B.exports;t["default"]=U},"44e7":function(e,t,n){var a=n("861d"),i=n("c6b6"),r=n("b622"),l=r("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[l])?!!t:"RegExp"==i(e))}},"45af":function(e,t,n){"use strict";var a=n("7f55"),i=n.n(a);i.a},"4df4":function(e,t,n){"use strict";var a=n("0366"),i=n("7b0b"),r=n("9bdd"),l=n("e95a"),o=n("50c4"),s=n("8418"),c=n("35a1");e.exports=function(e){var t,n,u,d,f,h,g=i(e),p="function"==typeof this?this:Array,m=arguments.length,b=m>1?arguments[1]:void 0,v=void 0!==b,y=c(g),x=0;if(v&&(b=a(b,m>2?arguments[2]:void 0,2)),void 0==y||p==Array&&l(y))for(t=o(g.length),n=new p(t);t>x;x++)h=v?b(g[x],x):g[x],s(n,x,h);else for(d=y.call(g),f=d.next,n=new p;!(u=f.call(d)).done;x++)h=v?r(d,b,[u.value,x],!0):u.value,s(n,x,h);return n.length=x,n}},"54ee":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"baseTable"},[n("div",{staticClass:"btn_wrapper"},e._l(e.topBtnList,(function(t,a){return n("el-button",{key:a,class:t.class,attrs:{type:t.type,icon:t.icon},on:{click:t.handleClick}},[e._v(e._s(t.label))])})),1),n("el-table",{ref:e.tableRef,attrs:{data:e.tableData,"header-cell-style":{"background-color":"rgba(106, 141, 195, 0.05)",height:"54px"},border:e.border,height:e.height,"row-key":e.rowKey},on:{select:e.tableChoose}},[e.hasIndex?n("el-table-column",{attrs:{index:e.handleIndex,type:"index",label:"序号",align:"center",width:"50"}}):e._e(),e.hasCheckBox?n("el-table-column",{attrs:{type:"selection",width:"50",align:"center"}}):e._e(),e._l(e.tableHeaders,(function(t,a){return n("el-table-column",{key:a,attrs:{label:t.label,prop:t.prop,width:t.width,align:t.align,formatter:t.formatter,"header-align":"center"},scopedSlots:e._u(["操作"==t.label?{key:"default",fn:function(a){return[t.buttonList&&t.buttonList.length?e._l(t.buttonList,(function(t,i){return n("span",{key:i,staticClass:"btnItem",class:t.icon?t.icon:"",on:{click:function(e){return t.handleClick(a.$index,a.row)}}},[e._v(e._s(t.name))])})):a.row.iconList&&a.row.iconList.length?[e._l(a.row.iconList,(function(e,t){return n("i",{key:t,staticClass:"iconfont",class:e.class,on:{click:function(t){return e.handleClick(a.$index,a.row)}}})})),n("span",[e._v(e._s(a.row[t.prop]))])]:e._e()]}}:null],null,!0)})}))],2),n("pagination",{attrs:{currentPage:e.currentPage,pageSize:e.pageSize,total:e.total,layout:e.layout},on:{sizeChange:e.handleSizeChange,pageChange:e.handlePageChange}})],1)},i=[],r=(n("a9e3"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pagination"},[n("el-pagination",{attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,"page-sizes":e.pageSizes,layout:e.layout,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handlePageChange}})],1)}),l=[],o={name:"pagination",props:{currentPage:{type:Number,default:1},pageSize:{type:Number,default:10},pageSizes:{type:Array,default:function(){return[10,20,30]}},background:{type:Boolean,default:!0},layout:{type:String,default:"sizes, prev, pager, next, jumper"},total:Number},methods:{handleSizeChange:function(e){this.$emit("sizeChange",e)},handlePageChange:function(e){this.$emit("pageChange",e)}}},s=o,c=(n("10ac"),n("2877")),u=Object(c["a"])(s,r,l,!1,null,null,null),d=u.exports,f=d,h={name:"baseTable",props:{tableHeaders:{type:Array,default:function(){return[]}},tableData:{type:Array,default:function(){return[]}},hasIndex:{type:Boolean,default:!1},handleIndex:{type:Function,default:function(e){return e+1}},border:{type:Boolean,default:!1},hasCheckBox:{type:Boolean,default:!1},topBtnList:{type:Array,default:function(){return[]}},hasRowSelect:{type:Array,default:function(){return[]}},layout:{type:String,default:"sizes, prev, pager, next, jumper"},currentPage:Number,pageSize:Number,total:Number,height:String,rowKey:String,tableRef:String},components:{pagination:f},methods:{tableChoose:function(e,t){this.$emit("tableChoose",e,t)},handleSizeChange:function(e){this.$emit("sizeChange",e)},handlePageChange:function(e){this.$emit("pageChange",e)}}},g=h,p=(n("884f"),Object(c["a"])(g,a,i,!1,null,null,null)),m=p.exports;t["a"]=m},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var a=n("1d80"),i=n("5899"),r="["+i+"]",l=RegExp("^"+r+r+"*"),o=RegExp(r+r+"*$"),s=function(e){return function(t){var n=String(a(t));return 1&e&&(n=n.replace(l,"")),2&e&&(n=n.replace(o,"")),n}};e.exports={start:s(1),end:s(2),trim:s(3)}},"641b":function(e,t,n){},7156:function(e,t,n){var a=n("861d"),i=n("d2bb");e.exports=function(e,t,n){var r,l;return i&&"function"==typeof(r=t.constructor)&&r!==n&&a(l=r.prototype)&&l!==n.prototype&&i(e,l),e}},7502:function(e,t,n){"use strict";var a=n("641b"),i=n.n(a);i.a},"7db0":function(e,t,n){"use strict";var a=n("23e7"),i=n("b727").find,r=n("44d2"),l=n("ae40"),o="find",s=!0,c=l(o);o in[]&&Array(1)[o]((function(){s=!1})),a({target:"Array",proto:!0,forced:s||!c},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r(o)},"7f55":function(e,t,n){},"7f5e":function(e,t,n){"use strict";var a=n("b5de"),i=n.n(a);i.a},8271:function(e,t,n){"use strict";n("4160"),n("d81d"),n("159b");var a,i,r=n("5530"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"froalaEditor"},[n("froala",{ref:"editor",attrs:{id:e.editorName,tag:"textarea",config:e.options,value:e.value},on:{input:function(t){return e.updateVal(t)}}})],1)},o=[],s={name:"froalaEditor",props:{editorName:String,options:{type:Object,default:function(){return{language:"zh_cn",height:300}}},value:String},data:function(){return{textarea:""}},methods:{updateVal:function(e){this.$emit("input",e)}},mounted:function(){},watch:{value:function(e,t){this.$refs.editor.setContent(this.value)}}},c=s,u=n("2877"),d=Object(u["a"])(c,l,o,!1,null,null,null),f=d.exports,h=f,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-upload",{attrs:{action:e.action,"list-type":"picture-card",accept:e.accept,disabled:e.disabled,"file-list":e.fileList,"before-upload":e.beforeUpload,"on-success":e.successFun,"on-change":e.changeFun,"on-remove":e.removeFun,limit:e.limit}},[n("i",{staticClass:"el-icon-plus"})])},p=[],m=(n("a9e3"),{name:"imgUpload",props:{accept:String,action:{type:String,default:"v1/upload"},beforeUpload:Function,successFun:Function,changeFun:Function,removeFun:Function,limit:{type:Number,default:3},fileList:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1}}}),b=m,v=Object(u["a"])(b,g,p,!1,null,null,null),y=v.exports,x=y,I={name:"baseForm",props:{labelWidth:{type:String,default:"200px"},inline:{type:Boolean,default:!0},modelForm:{type:Object,default:function(){}},formItems:{type:Array,default:function(){return[]}},isRules:{type:Boolean,default:!1},formRef:String},components:{froalaEditor:h},data:function(){return{config:{language:"zh_cn",height:300,imageUploadURL:"/v1/upload"}}},methods:{renderFormItem:function(e){var t=this,n=this.$createElement,a=this.modelForm,i=this.config,r=e.type,l=e.label,o=e.prop,s=e.placeholder,c=e.span,u=e.disabled,d="width:100%";return"input"==r?n("el-col",{attrs:{span:c}},[n("el-form-item",{class:"form_item",attrs:{label:l,prop:o}},[n("el-input",{attrs:{placeholder:s,disabled:u},style:d,model:{value:a[o],callback:function(e){t.$set(a,o,e)}}})])]):"editor"==r?n("el-col",{attrs:{span:c}},[n("el-form-item",{class:"form_item",attrs:{label:l,prop:o}},[n("froala",{ref:"editor",attrs:{config:i},model:{value:a[o],callback:function(e){t.$set(a,o,e)}}})])]):"select"==r?n("el-col",{attrs:{span:c}},[n("el-form-item",{class:"form_item",attrs:{label:l,prop:o}},[n("el-select",{model:{value:a[o],callback:function(e){t.$set(a,o,e)}}},[e.options.length&&e.options.map((function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))])])]):"upload"==r?n("el-col",{attrs:{span:c}},[n("el-form-item",{class:"form_item",attrs:{label:l,prop:o}},[n("div",{style:d},[n(x,{attrs:{action:e.action,accept:e.accept,disabled:e.disabled,fileList:e.fileList,limit:1,beforeUpload:function(n){if(!e.accept&&!/^image\/(jpeg|png|jpg|gif|bmp)$/.test(n.type))return t.$message.error("上传文件格式暂不支持"),!1;e.beforeUpload&&e.beforeUpload(n)},changeFun:function(t,n){e.changeFun&&e.changeFun(t,n)},successFun:function(t,n,a){e.successFun&&e.successFun(t,n,a)},removeFun:function(t,n){e.removeFun&&e.removeFun(t,n)}}})])])]):"textarea"==r?n("el-col",{attrs:{span:c}},[n("el-form-item",{class:"form_item",attrs:{label:l,prop:o}},[n("el-input",{attrs:{type:"textarea",placeholder:s,disabled:u},style:d,model:{value:a[o],callback:function(e){t.$set(a,o,e)}}})])]):"switch"==r?n("el-col",{attrs:{span:c}},[n("el-form-item",{class:"form_item",attrs:{label:l,prop:o}},[n("el-switch",{attrs:{disabled:u,"active-value":"1","inactive-value":"0"},model:{value:a[o],callback:function(e){t.$set(a,o,e)}}})])]):void 0},rowRender:function(e){var t=this,n=this.$createElement;return n("el-row",[e.map((function(e){return t.renderFormItem(e)}))])}},render:function(e){var t=this.formItems,n=(this.renderFormItem,this.labelWidth),a=this.inline,i=this.modelForm,l=this.formRef,o=this.rowRender,s=this.formRules;return e("el-form",{attrs:{"label-width":n,inline:a,rules:s},ref:l,props:Object(r["a"])({},{model:i})},[t.map((function(e){return o(e)}))])},computed:{formRules:function(){if(!this.isRules)return null;var e={};return this.formItems&&this.formItems.length&&this.formItems.forEach((function(t){t.forEach((function(t){if(t.inRule){var n={};e[t.prop]=[Object(r["a"])({},n,{required:!0,message:t.message,trigger:"input"===t.type||"textarea"===t.type?"blur":"change"})]}}))})),e}}},C=I,S=(n("f71e"),Object(u["a"])(C,a,i,!1,null,null,null)),R=S.exports;t["a"]=R},"884f":function(e,t,n){"use strict";var a=n("9e06"),i=n.n(a);i.a},"8aa5":function(e,t,n){"use strict";var a=n("6547").charAt;e.exports=function(e,t,n){return t+(n?a(e,t).length:1)}},9263:function(e,t,n){"use strict";var a=n("ad6d"),i=n("9f7f"),r=RegExp.prototype.exec,l=String.prototype.replace,o=r,s=function(){var e=/a/,t=/b*/g;return r.call(e,"a"),r.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),c=i.UNSUPPORTED_Y||i.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],d=s||u||c;d&&(o=function(e){var t,n,i,o,d=this,f=c&&d.sticky,h=a.call(d),g=d.source,p=0,m=e;return f&&(h=h.replace("y",""),-1===h.indexOf("g")&&(h+="g"),m=String(e).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==e[d.lastIndex-1])&&(g="(?: "+g+")",m=" "+m,p++),n=new RegExp("^(?:"+g+")",h)),u&&(n=new RegExp("^"+g+"$(?!\\s)",h)),s&&(t=d.lastIndex),i=r.call(f?n:d,m),f?i?(i.input=i.input.slice(p),i[0]=i[0].slice(p),i.index=d.lastIndex,d.lastIndex+=i[0].length):d.lastIndex=0:s&&i&&(d.lastIndex=d.global?i.index+i[0].length:t),u&&i&&i.length>1&&l.call(i[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i}),e.exports=o},"9e06":function(e,t,n){},"9f7f":function(e,t,n){"use strict";var a=n("d039");function i(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=a((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=a((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a15b:function(e,t,n){"use strict";var a=n("23e7"),i=n("44ad"),r=n("fc6a"),l=n("a640"),o=[].join,s=i!=Object,c=l("join",",");a({target:"Array",proto:!0,forced:s||!c},{join:function(e){return o.call(r(this),void 0===e?",":e)}})},a434:function(e,t,n){"use strict";var a=n("23e7"),i=n("23cb"),r=n("a691"),l=n("50c4"),o=n("7b0b"),s=n("65f0"),c=n("8418"),u=n("1dde"),d=n("ae40"),f=u("splice"),h=d("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,p=Math.min,m=9007199254740991,b="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!f||!h},{splice:function(e,t){var n,a,u,d,f,h,v=o(this),y=l(v.length),x=i(e,y),I=arguments.length;if(0===I?n=a=0:1===I?(n=0,a=y-x):(n=I-2,a=p(g(r(t),0),y-x)),y+n-a>m)throw TypeError(b);for(u=s(v,a),d=0;d<a;d++)f=x+d,f in v&&c(u,d,v[f]);if(u.length=a,n<a){for(d=x;d<y-a;d++)f=d+a,h=d+n,f in v?v[h]=v[f]:delete v[h];for(d=y;d>y-a+n;d--)delete v[d-1]}else if(n>a)for(d=y-a;d>x;d--)f=d+a-1,h=d+n-1,f in v?v[h]=v[f]:delete v[h];for(d=0;d<n;d++)v[d+x]=arguments[d+2];return v.length=y-a+n,u}})},a630:function(e,t,n){var a=n("23e7"),i=n("4df4"),r=n("1c7e"),l=!r((function(e){Array.from(e)}));a({target:"Array",stat:!0,forced:l},{from:i})},a9e3:function(e,t,n){"use strict";var a=n("83ab"),i=n("da84"),r=n("94ca"),l=n("6eeb"),o=n("5135"),s=n("c6b6"),c=n("7156"),u=n("c04e"),d=n("d039"),f=n("7c73"),h=n("241c").f,g=n("06cf").f,p=n("9bf2").f,m=n("58a8").trim,b="Number",v=i[b],y=v.prototype,x=s(f(y))==b,I=function(e){var t,n,a,i,r,l,o,s,c=u(e,!1);if("string"==typeof c&&c.length>2)if(c=m(c),t=c.charCodeAt(0),43===t||45===t){if(n=c.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:a=2,i=49;break;case 79:case 111:a=8,i=55;break;default:return+c}for(r=c.slice(2),l=r.length,o=0;o<l;o++)if(s=r.charCodeAt(o),s<48||s>i)return NaN;return parseInt(r,a)}return+c};if(r(b,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var C,S=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof S&&(x?d((function(){y.valueOf.call(n)})):s(n)!=b)?c(new v(I(t)),n,S):I(t)},R=a?h(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),D=0;R.length>D;D++)o(v,C=R[D])&&!o(S,C)&&p(S,C,g(v,C));S.prototype=y,y.constructor=S,l(i,b,S)}},ac1f:function(e,t,n){"use strict";var a=n("23e7"),i=n("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},b5de:function(e,t,n){},c367:function(e,t,n){"use strict";var a=n("0920"),i=n.n(a);i.a},c740:function(e,t,n){"use strict";var a=n("23e7"),i=n("b727").findIndex,r=n("44d2"),l=n("ae40"),o="findIndex",s=!0,c=l(o);o in[]&&Array(1)[o]((function(){s=!1})),a({target:"Array",proto:!0,forced:s||!c},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r(o)},d784:function(e,t,n){"use strict";n("ac1f");var a=n("6eeb"),i=n("d039"),r=n("b622"),l=n("9263"),o=n("9112"),s=r("species"),c=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),d=r("replace"),f=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),h=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,d){var g=r(e),p=!i((function(){var t={};return t[g]=function(){return 7},7!=""[e](t)})),m=p&&!i((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[s]=function(){return n},n.flags="",n[g]=/./[g]),n.exec=function(){return t=!0,null},n[g](""),!t}));if(!p||!m||"replace"===e&&(!c||!u||f)||"split"===e&&!h){var b=/./[g],v=n(g,""[e],(function(e,t,n,a,i){return t.exec===l?p&&!i?{done:!0,value:b.call(t,n,a)}:{done:!0,value:e.call(n,t,a)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),y=v[0],x=v[1];a(String.prototype,e,y),a(RegExp.prototype,g,2==t?function(e,t){return x.call(e,this,t)}:function(e){return x.call(e,this)})}d&&o(RegExp.prototype[g],"sham",!0)}},d81d:function(e,t,n){"use strict";var a=n("23e7"),i=n("b727").map,r=n("1dde"),l=n("ae40"),o=r("map"),s=l("map");a({target:"Array",proto:!0,forced:!o||!s},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},db80:function(e,t,n){},f1b1:function(e,t,n){},f71e:function(e,t,n){"use strict";var a=n("db80"),i=n.n(a);i.a}}]);
//# sourceMappingURL=chunk-b87277d4.9d1e2529.js.map