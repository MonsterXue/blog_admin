(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-542e6cae","chunk-dfc4de0e"],{5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){var a=r("1d80"),n=r("5899"),o="["+n+"]",i=RegExp("^"+o+o+"*"),l=RegExp(o+o+"*$"),s=function(e){return function(t){var r=String(a(t));return 1&e&&(r=r.replace(i,"")),2&e&&(r=r.replace(l,"")),r}};e.exports={start:s(1),end:s(2),trim:s(3)}},7156:function(e,t,r){var a=r("861d"),n=r("d2bb");e.exports=function(e,t,r){var o,i;return n&&"function"==typeof(o=t.constructor)&&o!==r&&a(i=o.prototype)&&i!==r.prototype&&n(e,i),e}},8271:function(e,t,r){"use strict";r("4160"),r("d81d"),r("159b");var a,n,o=r("5530"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"froalaEditor"},[r("froala",{ref:"editor",attrs:{id:e.editorName,tag:"textarea",config:e.options,value:e.value},on:{input:function(t){return e.updateVal(t)}}})],1)},l=[],s={name:"froalaEditor",props:{editorName:String,options:{type:Object,default:function(){return{language:"zh_cn",height:300}}},value:String},data:function(){return{textarea:""}},methods:{updateVal:function(e){this.$emit("input",e)}},mounted:function(){},watch:{value:function(e,t){this.$refs.editor.setContent(this.value)}}},u=s,c=r("2877"),f=Object(c["a"])(u,i,l,!1,null,null,null),p=f.exports,m=p,d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-upload",{attrs:{action:e.action,"list-type":"picture-card",accept:e.accept,disabled:e.disabled,"file-list":e.fileList,"before-upload":e.beforeUpload,"on-success":e.successFun,"on-change":e.changeFun,"on-remove":e.removeFun,limit:e.limit}},[r("i",{staticClass:"el-icon-plus"})])},h=[],b=(r("a9e3"),{name:"imgUpload",props:{accept:String,action:{type:String,default:"v1/upload"},beforeUpload:Function,successFun:Function,changeFun:Function,removeFun:Function,limit:{type:Number,default:3},fileList:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1}}}),g=b,v=Object(c["a"])(g,d,h,!1,null,null,null),F=v.exports,y=F,I={name:"baseForm",props:{labelWidth:{type:String,default:"200px"},inline:{type:Boolean,default:!0},modelForm:{type:Object,default:function(){}},formItems:{type:Array,default:function(){return[]}},isRules:{type:Boolean,default:!1},formRef:String},components:{froalaEditor:m},data:function(){return{config:{language:"zh_cn",height:300,imageUploadURL:"/v1/upload"}}},methods:{renderFormItem:function(e){var t=this,r=this.$createElement,a=this.modelForm,n=this.config,o=e.type,i=e.label,l=e.prop,s=e.placeholder,u=e.span,c=e.disabled,f="width:100%";return"input"==o?r("el-col",{attrs:{span:u}},[r("el-form-item",{class:"form_item",attrs:{label:i,prop:l}},[r("el-input",{attrs:{placeholder:s,disabled:c},style:f,model:{value:a[l],callback:function(e){t.$set(a,l,e)}}})])]):"editor"==o?r("el-col",{attrs:{span:u}},[r("el-form-item",{class:"form_item",attrs:{label:i,prop:l}},[r("froala",{ref:"editor",attrs:{config:n},model:{value:a[l],callback:function(e){t.$set(a,l,e)}}})])]):"select"==o?r("el-col",{attrs:{span:u}},[r("el-form-item",{class:"form_item",attrs:{label:i,prop:l}},[r("el-select",{model:{value:a[l],callback:function(e){t.$set(a,l,e)}}},[e.options.length&&e.options.map((function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))])])]):"upload"==o?r("el-col",{attrs:{span:u}},[r("el-form-item",{class:"form_item",attrs:{label:i,prop:l}},[r("div",{style:f},[r(y,{attrs:{action:e.action,accept:e.accept,disabled:e.disabled,fileList:e.fileList,limit:1,beforeUpload:function(r){if(!e.accept&&!/^image\/(jpeg|png|jpg|gif|bmp)$/.test(r.type))return t.$message.error("上传文件格式暂不支持"),!1;e.beforeUpload&&e.beforeUpload(r)},changeFun:function(t,r){e.changeFun&&e.changeFun(t,r)},successFun:function(t,r,a){e.successFun&&e.successFun(t,r,a)},removeFun:function(t,r){e.removeFun&&e.removeFun(t,r)}}})])])]):"textarea"==o?r("el-col",{attrs:{span:u}},[r("el-form-item",{class:"form_item",attrs:{label:i,prop:l}},[r("el-input",{attrs:{type:"textarea",placeholder:s,disabled:c},style:f,model:{value:a[l],callback:function(e){t.$set(a,l,e)}}})])]):"switch"==o?r("el-col",{attrs:{span:u}},[r("el-form-item",{class:"form_item",attrs:{label:i,prop:l}},[r("el-switch",{attrs:{disabled:c,"active-value":"1","inactive-value":"0"},model:{value:a[l],callback:function(e){t.$set(a,l,e)}}})])]):void 0},rowRender:function(e){var t=this,r=this.$createElement;return r("el-row",[e.map((function(e){return t.renderFormItem(e)}))])}},render:function(e){var t=this.formItems,r=(this.renderFormItem,this.labelWidth),a=this.inline,n=this.modelForm,i=this.formRef,l=this.rowRender,s=this.formRules;return e("el-form",{attrs:{"label-width":r,inline:a,rules:s},ref:i,props:Object(o["a"])({},{model:n})},[t.map((function(e){return l(e)}))])},computed:{formRules:function(){if(!this.isRules)return null;var e={};return this.formItems&&this.formItems.length&&this.formItems.forEach((function(t){t.forEach((function(t){if(t.inRule){var r={};e[t.prop]=[Object(o["a"])({},r,{required:!0,message:t.message,trigger:"input"===t.type||"textarea"===t.type?"blur":"change"})]}}))})),e}}},$=I,N=(r("f71e"),Object(c["a"])($,a,n,!1,null,null,null)),A=N.exports;t["a"]=A},"857a":function(e,t,r){var a=r("1d80"),n=/"/g;e.exports=function(e,t,r,o){var i=String(a(e)),l="<"+t;return""!==r&&(l+=" "+r+'="'+String(o).replace(n,"&quot;")+'"'),l+">"+i+"</"+t+">"}},"8cab":function(e,t,r){"use strict";r.r(t);var a,n,o=r("f33b"),i={name:"editArticle",mixins:[o["default"]],data:function(){return{modelForm:{}}},methods:{parsePhoto:function(){this.modelForm["img"]&&(this.formItems[3][0].fileList=[{name:this.modelForm["img"],url:this.modelForm["img"]}])},sure:function(){var e=this;this.$api.articleAPI.updateArticle(this.modelForm).then((function(t){200==t.data.code&&(e.$message.success("更新成功！"),e.$router.push("articleManage"))})).catch((function(t){e.$message.error("请求错误！")}))},back:function(){this.$router.push("articleManage")}},mounted:function(){var e=this;this.$api.articleAPI.queryArticleById({articleId:this.$route.query.id}).then((function(t){200==t.data.code?(e.modelForm=t.data.data,e.parsePhoto()):e.$message.error("请求错误！")}))},watch:{}},l=i,s=r("2877"),u=Object(s["a"])(l,a,n,!1,null,null,null),c=u.exports;t["default"]=c},9911:function(e,t,r){"use strict";var a=r("23e7"),n=r("857a"),o=r("af03");a({target:"String",proto:!0,forced:o("link")},{link:function(e){return n(this,"a","href",e)}})},a9e3:function(e,t,r){"use strict";var a=r("83ab"),n=r("da84"),o=r("94ca"),i=r("6eeb"),l=r("5135"),s=r("c6b6"),u=r("7156"),c=r("c04e"),f=r("d039"),p=r("7c73"),m=r("241c").f,d=r("06cf").f,h=r("9bf2").f,b=r("58a8").trim,g="Number",v=n[g],F=v.prototype,y=s(p(F))==g,I=function(e){var t,r,a,n,o,i,l,s,u=c(e,!1);if("string"==typeof u&&u.length>2)if(u=b(u),t=u.charCodeAt(0),43===t||45===t){if(r=u.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:a=2,n=49;break;case 79:case 111:a=8,n=55;break;default:return+u}for(o=u.slice(2),i=o.length,l=0;l<i;l++)if(s=o.charCodeAt(l),s<48||s>n)return NaN;return parseInt(o,a)}return+u};if(o(g,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var $,N=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof N&&(y?f((function(){F.valueOf.call(r)})):s(r)!=g)?u(new v(I(t)),r,N):I(t)},A=a?m(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;A.length>_;_++)l(v,$=A[_])&&!l(N,$)&&h(N,$,d(v,$));N.prototype=F,F.constructor=N,i(n,g,N)}},af03:function(e,t,r){var a=r("d039");e.exports=function(e){return a((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},d81d:function(e,t,r){"use strict";var a=r("23e7"),n=r("b727").map,o=r("1dde"),i=r("ae40"),l=o("map"),s=i("map");a({target:"Array",proto:!0,forced:!l||!s},{map:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},db80:function(e,t,r){},f33b:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"addArticle"},[r("baseForm",{attrs:{formItems:e.formItems,modelForm:e.modelForm,formRef:"formAdd",isRules:e.isRules}}),r("div",{staticClass:"btn_box"},[r("el-button",{on:{click:e.back}},[e._v("返回")]),r("el-button",{staticClass:"deep",attrs:{type:"primary"},on:{click:e.sure}},[e._v("确定")])],1)],1)},n=[],o=(r("9911"),r("8271")),i={name:"addArticle",components:{baseForm:o["a"]},data:function(){var e=this;return{formItems:[[{label:"标题：",type:"input",prop:"title",span:8,inRule:!0,message:"必填项不能为空"},{label:"关键字：",type:"input",prop:"keyWords",span:8,inRule:!0,message:"必填项不能为空"}],[{label:"标签：",type:"select",prop:"tagName",options:[{label:"标签1",value:"标签1"},{label:"标签2",value:"标签2"},{label:"标签3",value:"标签3"},{label:"标签4",value:"标签4"}],span:8,inRule:!0,message:"必填项不能为空"}],[{label:"作者：",type:"input",prop:"userName",disabled:!0,inRule:!0,message:"必填项不能为空"}],[{label:"缩略图：",type:"upload",prop:"img",fileList:[],successFun:function(t){e.modelForm["img"]=t.link},removeFun:function(t,r){e.formItems[3][0].fileList=[],e.modelForm["img"]=""}}],[{label:"正文：",type:"editor",prop:"content",inRule:!0,message:"必填项不能为空"}]],modelForm:{userName:this.$store.state.user.userName},isRules:!0}},methods:{back:function(){this.$router.push("articleManage")},sure:function(){var e=this;this.$children[0].$refs["formAdd"].validate((function(t){t?e.$api.articleAPI.insertArticle(e.modelForm).then((function(t){200==t.data.code&&(e.$message.success("添加成功！"),e.$router.push("articleManage"))})).catch((function(t){console.log(t),e.$message.error("请求错误！")})):e.$message.error("必填项不能为空！")}))}},mounted:function(){}},l=i,s=r("2877"),u=Object(s["a"])(l,a,n,!1,null,null,null),c=u.exports;t["default"]=c},f71e:function(e,t,r){"use strict";var a=r("db80"),n=r.n(a);n.a}}]);
//# sourceMappingURL=chunk-542e6cae.25529034.js.map